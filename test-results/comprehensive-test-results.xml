<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="45" failures="11" errors="0" time="1.246">
  <testsuite name="MCP Proxy Wrapper - Comprehensive Tests" errors="0" failures="4" skipped="0" timestamp="2025-06-11T15:45:11" time="0.662" tests="14">
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Basic Proxy Functionality should allow normal tool registration and calls" name="MCP Proxy Wrapper - Comprehensive Tests Basic Proxy Functionality should allow normal tool registration and calls" time="0.019">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;Hello, World!&quot;
Received: &quot;Hello, undefined!&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.comprehensive.test.ts:40:38)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Basic Proxy Functionality should list registered tools correctly" name="MCP Proxy Wrapper - Comprehensive Tests Basic Proxy Functionality should list registered tools correctly" time="0.002">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Basic Proxy Functionality should handle tool errors gracefully" name="MCP Proxy Wrapper - Comprehensive Tests Basic Proxy Functionality should handle tool errors gracefully" time="0.008">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Before Hook Functionality should execute beforeToolCall hook" name="MCP Proxy Wrapper - Comprehensive Tests Before Hook Functionality should execute beforeToolCall hook" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Before Hook Functionality should allow argument modification in beforeToolCall" name="MCP Proxy Wrapper - Comprehensive Tests Before Hook Functionality should allow argument modification in beforeToolCall" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;Hello, Modified World!&quot;
Received: &quot;Hello, undefined!&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.comprehensive.test.ts:123:38)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Before Hook Functionality should support short-circuiting with beforeToolCall" name="MCP Proxy Wrapper - Comprehensive Tests Before Hook Functionality should support short-circuiting with beforeToolCall" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests After Hook Functionality should execute afterToolCall hook" name="MCP Proxy Wrapper - Comprehensive Tests After Hook Functionality should execute afterToolCall hook" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests After Hook Functionality should allow result modification in afterToolCall" name="MCP Proxy Wrapper - Comprehensive Tests After Hook Functionality should allow result modification in afterToolCall" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Combined Hook Functionality should execute both before and after hooks" name="MCP Proxy Wrapper - Comprehensive Tests Combined Hook Functionality should execute both before and after hooks" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;Args modified: true&quot;
Received: &quot;Args modified: false&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.comprehensive.test.ts:230:38)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Error Handling should handle hook errors gracefully" name="MCP Proxy Wrapper - Comprehensive Tests Error Handling should handle hook errors gracefully" time="0.002">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Error Handling should handle afterToolCall hook errors" name="MCP Proxy Wrapper - Comprehensive Tests Error Handling should handle afterToolCall hook errors" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Metadata and Context should include metadata in hook context" name="MCP Proxy Wrapper - Comprehensive Tests Metadata and Context should include metadata in hook context" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;value&quot;
Received: undefined
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.comprehensive.test.ts:298:43)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Complex Tool Interactions should handle multiple concurrent tool calls" name="MCP Proxy Wrapper - Comprehensive Tests Complex Tool Interactions should handle multiple concurrent tool calls" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Comprehensive Tests Complex Tool Interactions should handle tools with complex return types" name="MCP Proxy Wrapper - Comprehensive Tests Complex Tool Interactions should handle tools with complex return types" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="MCP Protocol Compliance Tests" errors="0" failures="1" skipped="0" timestamp="2025-06-11T15:45:11" time="1.003" tests="15">
    <testcase classname="MCP Protocol Compliance Tests Protocol Equivalence should behave identically to unwrapped server for tool calls" name="MCP Protocol Compliance Tests Protocol Equivalence should behave identically to unwrapped server for tool calls" time="0.019">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Protocol Equivalence should provide identical tool listings" name="MCP Protocol Compliance Tests Protocol Equivalence should provide identical tool listings" time="0.002">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests MCP Request Handling should handle initialize request correctly" name="MCP Protocol Compliance Tests MCP Request Handling should handle initialize request correctly" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests MCP Request Handling should handle tools/list request" name="MCP Protocol Compliance Tests MCP Request Handling should handle tools/list request" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests MCP Request Handling should handle tools/call request" name="MCP Protocol Compliance Tests MCP Request Handling should handle tools/call request" time="0.002">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;Hello World&quot;
Received: &quot;Hello undefined&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.protocol.test.ts:113:38)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Error Response Compliance should return proper error format for tool execution errors" name="MCP Protocol Compliance Tests Error Response Compliance should return proper error format for tool execution errors" time="0.009">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Error Response Compliance should handle non-existent tool calls appropriately" name="MCP Protocol Compliance Tests Error Response Compliance should handle non-existent tool calls appropriately" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Content Type Handling should handle text content correctly" name="MCP Protocol Compliance Tests Content Type Handling should handle text content correctly" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Content Type Handling should handle resource content correctly" name="MCP Protocol Compliance Tests Content Type Handling should handle resource content correctly" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Content Type Handling should handle mixed content types" name="MCP Protocol Compliance Tests Content Type Handling should handle mixed content types" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Metadata Preservation should preserve tool result metadata" name="MCP Protocol Compliance Tests Metadata Preservation should preserve tool result metadata" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Metadata Preservation should handle empty metadata gracefully" name="MCP Protocol Compliance Tests Metadata Preservation should handle empty metadata gracefully" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Connection Lifecycle should handle connection and disconnection properly" name="MCP Protocol Compliance Tests Connection Lifecycle should handle connection and disconnection properly" time="0.001">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Connection Lifecycle should handle multiple connection attempts gracefully" name="MCP Protocol Compliance Tests Connection Lifecycle should handle multiple connection attempts gracefully" time="0">
    </testcase>
    <testcase classname="MCP Protocol Compliance Tests Connection Lifecycle should handle disconnection when not connected" name="MCP Protocol Compliance Tests Connection Lifecycle should handle disconnection when not connected" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="MCP Proxy Wrapper - Edge Cases and Stress Tests" errors="0" failures="6" skipped="0" timestamp="2025-06-11T15:45:11" time="1.136" tests="16">
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Null and Undefined Handling should handle null arguments gracefully" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Null and Undefined Handling should handle null arguments gracefully" time="0.017">
      <failure>Error: expect(received).toContain(expected) // indexOf

Expected substring: &quot;Null: null&quot;
Received string:    &quot;Null: undefined, Undefined: undefined&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.edge-cases.test.ts:48:38)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Null and Undefined Handling should handle empty arguments object" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Null and Undefined Handling should handle empty arguments object" time="0.001">
      <failure>Error: expect(received).toContain(expected) // indexOf

Expected substring: &quot;Args keys: 2&quot;
Received string:    &quot;Args keys: 1&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.edge-cases.test.ts:63:38)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Large Data Handling should handle large text content" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Large Data Handling should handle large text content" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Large Data Handling should handle large argument objects" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Large Data Handling should handle large argument objects" time="0.008">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;Received 1000 items&quot;
Received: &quot;Error: Cannot read properties of undefined (reading &apos;length&apos;)&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.edge-cases.test.ts:101:38)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Large Data Handling should handle multiple large content blocks" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Large Data Handling should handle multiple large content blocks" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Special Characters and Encoding should handle Unicode characters correctly" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Special Characters and Encoding should handle Unicode characters correctly" time="0.003">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Special Characters and Encoding should handle JSON special characters" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Special Characters and Encoding should handle JSON special characters" time="0.001">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Concurrent Operations should handle concurrent tool calls correctly" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Concurrent Operations should handle concurrent tool calls correctly" time="0.013">
      <failure>Error: expect(received).toEqual(expected) // deep equality

- Expected  - 8
+ Received  + 8

  Array [
    1,
-   2,
-   3,
-   4,
-   5,
-   6,
-   7,
-   8,
-   9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
+   2,
    20,
+   3,
+   4,
+   5,
+   6,
+   7,
+   8,
+   9,
  ]
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.edge-cases.test.ts:196:34)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Concurrent Operations should handle concurrent different tool calls" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Concurrent Operations should handle concurrent different tool calls" time="0.002">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Hook Error Scenarios should handle intermittent hook failures" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Hook Error Scenarios should handle intermittent hook failures" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.edge-cases.test.ts:258:34)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Hook Error Scenarios should handle hook errors with complex objects" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Hook Error Scenarios should handle hook errors with complex objects" time="0.002">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Memory and Performance should handle many sequential tool calls without memory leaks" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Memory and Performance should handle many sequential tool calls without memory leaks" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;Call 0&quot;
Received: &quot;Call undefined&quot;
    at Object.&lt;anonymous&gt; (/Users/dennisonbertram/Develop/ModelContextProtocol/mcp-payment-wrapper/src/__tests__/proxy-wrapper.edge-cases.test.ts:303:40)</failure>
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Memory and Performance should handle rapid fire tool calls" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Memory and Performance should handle rapid fire tool calls" time="0.003">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Edge Case Tool Scenarios should handle tool that returns empty content array" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Edge Case Tool Scenarios should handle tool that returns empty content array" time="0.004">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Edge Case Tool Scenarios should handle tool with no return value" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Edge Case Tool Scenarios should handle tool with no return value" time="0.002">
    </testcase>
    <testcase classname="MCP Proxy Wrapper - Edge Cases and Stress Tests Edge Case Tool Scenarios should handle tool that takes very long to execute" name="MCP Proxy Wrapper - Edge Cases and Stress Tests Edge Case Tool Scenarios should handle tool that takes very long to execute" time="0.102">
    </testcase>
  </testsuite>
</testsuites>